package com.toaok.study.module.home.activity;import android.content.Context;import android.content.Intent;import android.os.Bundle;import android.support.annotation.Nullable;import android.support.v4.app.Fragment;import com.toaok.study.R;import com.toaok.study.module.base.bean.ToolbarBean;import com.toaok.study.module.base.presenter.activity.BaseToolbarActivity;import com.toaok.study.module.base.view.BaseToolbarDelegate;import com.toaok.study.module.home.fragemnt.MainFragment;import com.toaok.study.module.home.view.MainDelegate;/** * 主界面 */public class MainActivity extends BaseToolbarActivity implements MainFragment.SelectTab {    private ToolbarBean mBean;    @Override    protected void onCreate(@Nullable Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        viewDelegate.setToolBarListener(new BaseToolbarDelegate.OnClickToolBarListener() {            @Override            public void onClickLeftButton() {                viewDelegate.toast("onClickLeftButton");            }            @Override            public void onClickRightButton() {                viewDelegate.toast("onClickRightButton");            }            @Override            public void onClickRightText() {                viewDelegate.toast("onClickRightText");            }        });        mBean = new ToolbarBean();    }    @Override    protected Fragment createFragment() {        return MainFragment.newInstance("MainFragment");    }    public static void startActivity(Context context) {        Intent intent = new Intent();        intent.setClass(context, MainActivity.class);        context.startActivity(intent);    }    @Override    public void selected(@MainDelegate.VPI int tabId) {        switch (tabId) {            case MainDelegate.MAP_PAGER:                mBean.setCenterText(getString(R.string.home_map));                notifyModelChanged(mBean);                break;            case MainDelegate.KLINE_PAGER:                mBean.setCenterText(getString(R.string.home_kline));                notifyModelChanged(mBean);                break;            case MainDelegate.OTHER_PAGER:                mBean.setCenterText(getString(R.string.home_other));                notifyModelChanged(mBean);                break;        }    }    @Override    protected void onDestroy() {        super.onDestroy();        /*         * huwei emui 8.0 memory leaks         * */        if (mBean != null) {            mBean = null;        }    }}